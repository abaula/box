## Типы данных

- Box - коробка, для хранения документов одного типа, аналог table в СУБД.
- Document - документ
- Field - поле документа
- Term - содержимое поля документа

## Структура файлов Box

### Box

Группа каталогов для хранения данных.

Описание структуры каталогов хранится в файле [box.meta](storage.md#файл-boxmeta).

### Document

Документы хранятся как набор записей в файле [doc.seg](storage.md#файл-docnnseg).

У каждого документа должно быть минимум одно ключевое поле, для которого строится [индекс](#index), данные которого хранятся в файлах [field.FF.td.ix.NN.seg](storage.md#файл-fieldfftdixnnseg).

Дополнительно документ может иметь [индексы](#index) для других полей.

### Field

Поле документа описывается в файле [fields.meta](storage.md#файл-fieldsmeta).

Для каждого поля, по которому производится фильтрация создаётся индекс [field.FF.td.ix.NN.seg](storage.md#файл-fieldfftdixnnseg).

Через этот индекс можно найти все документы, из документов получить все термы, см. [Document](#document).

### Term

Терм - это любое значение любого поля любого документа.

Терм хранится в бинарной форме в файлах [terms.NN.seg](storage.md#файл-termsnnseg) и [terms.b.NN.seg](storage.md#файл-termsbnnseg).

### Index

Индексы для числовых и текстовых значений имеют разный тип:

- Числовые значения хранятся в b-tree индексах.
- Для текстовых значений используются extandible hashing индексы.
